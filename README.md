# AWS ALB ë„ë©”ì¸ ê¸°ë°˜ ë¼ìš°íŒ… with ë©€í‹° AZ ì•„í‚¤í…ì²˜

ì´ Terraform í”„ë¡œì íŠ¸ëŠ” AWS Application Load Balancer(ALB)ë¥¼ ì‚¬ìš©í•œ ë„ë©”ì¸ ê¸°ë°˜ ë¼ìš°íŒ…ì„ êµ¬í˜„í•©ë‹ˆë‹¤. ì„œë¡œ ë‹¤ë¥¸ ë„ë©”ì¸ ìš”ì²­ì„ ê°ê° ë‹¤ë¥¸ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ë¡œ ë¼ìš°íŒ…í•˜ë©°, ë©€í‹° AZ ë°°í¬ë¥¼ í†µí•œ ê³ ê°€ìš©ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê°œìš”

```
ì¸í„°ë„·
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë“œ ë°¸ëŸ°ì„œ                         â”‚
â”‚              (2a ë° 2c AZì— ë°°í¬)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ (ë„ë©”ì¸ ê¸°ë°˜ ë¼ìš°íŒ…)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ap-northeast-2a (í”„ë¼ì´ë¹—)    â”‚     ap-northeast-2c (í”„ë¼ì´ë¹—)    â”‚
â”‚                                  â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚                                  â”‚
â”‚  â”‚ API ì„œë²„    â”‚                  â”‚                                 â”‚
â”‚  â”‚ (Node.js)   â”‚                 â”‚                                  â”‚
â”‚  â”‚   :8080     â”‚                 â”‚                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚                                  â”‚
â”‚                                  â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚                                  â”‚
â”‚  â”‚ ì›¹ ì„œë²„      â”‚                 â”‚                                  â”‚
â”‚  â”‚  (Apache)   â”‚                 â”‚                                  â”‚
â”‚  â”‚    :80      â”‚                 â”‚                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚                                  â”‚
â”‚                                  â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ í…ŒìŠ¤íŠ¸ ì„œë²„  â”‚                 â”‚  â”‚ í…ŒìŠ¤íŠ¸ ì„œë²„  â”‚                 â”‚
â”‚  â”‚  (Apache)   â”‚                 â”‚  â”‚  (Apache)   â”‚                 â”‚
â”‚  â”‚    :80      â”‚                 â”‚  â”‚    :80      â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸŒ ë„ë©”ì¸ ë¼ìš°íŒ… ì„¤ì •

| ë„ë©”ì¸ | ëŒ€ìƒ ì„œë¹„ìŠ¤ | í¬íŠ¸ | í—¬ìŠ¤ ì²´í¬ | ë°±ì—”ë“œ |
|--------|-------------|------|-----------|---------|
| `api.example.com` | API ì„œë²„ (Node.js) | 8080 | `/health` | api-server-2a (2a ì „ìš©) |
| `www.example.com` | ì›¹ ì„œë²„ (Apache) | 80 | `/` | web-server-2a (2a ì „ìš©) |
| `example.com` | ì›¹ ì„œë²„ (Apache) | 80 | `/` | web-server-2a (2a ì „ìš©) |
| `test.com` | í…ŒìŠ¤íŠ¸ ì„œë²„ (Apache) | 80 | `/` | test-server-2a (2a) + test-server-2c (2c) |
| `*` (ê¸°íƒ€ ëª¨ë“  ë„ë©”ì¸) | ê¸°ë³¸ ì„œë²„ (Apache) | 80 | `/` | web-server-2a (2a) |

## ğŸ“‹ ì£¼ìš” ê¸°ëŠ¥

- âœ… **ê³ ê°€ìš©ì„± ALB**: 2ê°œ AZ(2a, 2c)ì— ë°°í¬
- âœ… **ë„ë©”ì¸ ê¸°ë°˜ ë¼ìš°íŒ…**: ì„œë¡œ ë‹¤ë¥¸ ë„ë©”ì¸ì„ ê°ê° ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë¡œ ë¼ìš°íŒ…
- âœ… **ë©€í‹° ì„œë¹„ìŠ¤ ì§€ì›**: API ì„œë²„, ì›¹ ì„œë²„, í…ŒìŠ¤íŠ¸ ì„œë²„ ë¶„ë¦¬ ìš´ì˜
- âœ… **ë©€í‹° AZ í…ŒìŠ¤íŠ¸**: test.com ë„ë©”ì¸ì€ 2aì™€ 2c ì–‘ìª½ AZì— ë°°í¬
- âœ… **SSM ì ‘ê·¼**: ì„¸ì…˜ ë§¤ë‹ˆì €ë¥¼ í†µí•œ ë³´ì•ˆ ì„œë²„ ì ‘ê·¼
- âœ… **ì½”ë“œí˜• ì¸í”„ë¼**: Terraformì„ í†µí•œ ì™„ì „ ìë™í™” ë°°í¬
- âœ… **ë³´ì•ˆ ê·¸ë£¹**: ì„œë¹„ìŠ¤ë³„ ì ì ˆí•œ ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬
- âœ… **í—¬ìŠ¤ ì²´í¬**: ê° ì„œë¹„ìŠ¤ë³„ ë§ì¶¤í˜• í—¬ìŠ¤ ì²´í¬ êµ¬ì„±

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Terraform >= 1.0
- ì ì ˆí•œ ê¶Œí•œìœ¼ë¡œ êµ¬ì„±ëœ AWS CLI
- ìœ íš¨í•œ AWS í‚¤ í˜ì–´ (ì„ íƒì‚¬í•­, SSH ì ‘ê·¼ìš©)

### 1. í´ë¡  ë° ë°°í¬

```bash
git clone <repository-url>
cd AWS_ALB_DOMAIN_ROUTING

# Terraform ì´ˆê¸°í™”
terraform init

# ê³„íš ê²€í† 
terraform plan

# ì¸í”„ë¼ ë°°í¬
terraform apply
```

### 2. ë„ë©”ì¸ ë¼ìš°íŒ… í…ŒìŠ¤íŠ¸

ë°°í¬ í›„ ALB DNS ì´ë¦„ í™•ì¸:

```bash
terraform output alb_dns_name
```

ë‹¤ì–‘í•œ ë„ë©”ì¸ ë¼ìš°íŒ… í…ŒìŠ¤íŠ¸:

```bash
# ALB DNS ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
ALB_DNS=$(terraform output -raw alb_dns_name)

# API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
curl -H "Host: api.example.com" http://$ALB_DNS/health
curl -H "Host: api.example.com" http://$ALB_DNS/api/status

# ì›¹ ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
curl -H "Host: www.example.com" http://$ALB_DNS/
curl -H "Host: example.com" http://$ALB_DNS/

# í…ŒìŠ¤íŠ¸ ì„œë²„ í…ŒìŠ¤íŠ¸ (ë©€í‹° AZ)
curl -H "Host: test.com" http://$ALB_DNS/

# ê¸°ë³¸ ë¼ìš°íŒ… í…ŒìŠ¤íŠ¸
curl -H "Host: unknown.example.com" http://$ALB_DNS/
```

### 3. SSMì„ í†µí•œ ì„œë²„ ì ‘ê·¼

```bash
# ì¸ìŠ¤í„´ìŠ¤ ID ë° ì—°ê²° ëª…ë ¹ì–´ í™•ì¸
terraform output ec2_instance_info
terraform output ssm_connect_commands

# ì„œë²„ ì—°ê²°
aws ssm start-session --target <api-server-instance-id>    # API ì„œë²„ (2a)
aws ssm start-session --target <web-server-instance-id>    # ì›¹ ì„œë²„ (2a)
aws ssm start-session --target <test-server-2a-instance-id> # í…ŒìŠ¤íŠ¸ ì„œë²„ (2a)
aws ssm start-session --target <test-server-2c-instance-id> # í…ŒìŠ¤íŠ¸ ì„œë²„ (2c)
```

### 4. ë©€í‹° AZ í…ŒìŠ¤íŠ¸

```bash
# í…ŒìŠ¤íŠ¸ ì„œë²„ì˜ ë©€í‹° AZ ë™ì‘ í™•ì¸ (test.com ë„ë©”ì¸)
# ì—¬ëŸ¬ ë²ˆ ìš”ì²­í•˜ì—¬ ë¡œë“œ ë°¸ëŸ°ì‹± í™•ì¸
for i in {1..10}; do
  curl -H "Host: test.com" http://$ALB_DNS/
  echo ""
done

# ê° ì„œë²„ì— ì§ì ‘ ì—°ê²°í•˜ì—¬ ì‘ë‹µ í™•ì¸
aws ssm start-session --target <test-server-2a-instance-id>
# ì„œë²„ì—ì„œ: curl localhost

aws ssm start-session --target <test-server-2c-instance-id>
# ì„œë²„ì—ì„œ: curl localhost
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
AWS_ALB_DOMAIN_ROUTING/
â”œâ”€â”€ main.tf              # ë©”ì¸ ì¸í”„ë¼ (VPC, EC2, ALB)
â”œâ”€â”€ target_groups.tf     # ALB íƒ€ê²Ÿ ê·¸ë£¹ ë° ì—°ê²°
â”œâ”€â”€ listeners.tf         # ALB ë¦¬ìŠ¤ë„ˆ ë° ë¼ìš°íŒ… ê·œì¹™
â”œâ”€â”€ outputs.tf          # ì¶œë ¥ ê°’ ë° í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´
â”œâ”€â”€ variables.tf        # ì…ë ¥ ë³€ìˆ˜
â”œâ”€â”€ .gitignore          # Git ë¬´ì‹œ íŒ¨í„´
â””â”€â”€ README.md           # ë¬¸ì„œí™”
```

## ğŸ”§ ì„¤ì •

### ë³€ìˆ˜

| ë³€ìˆ˜ | ì„¤ëª… | ê¸°ë³¸ê°’ | í•„ìˆ˜ |
|------|------|--------|------|
| `aws_region` | ë°°í¬í•  AWS ë¦¬ì „ | `ap-northeast-2` | ì•„ë‹ˆì˜¤ |
| `instance_type` | EC2 ì¸ìŠ¤í„´ìŠ¤ íƒ€ì… | `t3.micro` | ì•„ë‹ˆì˜¤ |
| `key_pair_name` | SSH ì ‘ê·¼ìš© AWS í‚¤ í˜ì–´ | `eyjo-fnf-test-key` | ì•„ë‹ˆì˜¤ |

### ì‚¬ìš©ì ì •ì˜

ì‚¬ìš©ì ì •ì˜ ê°’ì„ ìœ„í•œ `terraform.tfvars` íŒŒì¼ ìƒì„±:

```hcl
aws_region = "us-west-2"
instance_type = "t3.small"
key_pair_name = "my-key-pair"
```

## ğŸ›ï¸ ì¸í”„ë¼ êµ¬ì„± ìš”ì†Œ

### ë„¤íŠ¸ì›Œí¬
- **VPC**: 10.0.0.0/16
- **í¼ë¸”ë¦­ ì„œë¸Œë„·**: 10.0.1.0/24 (2a), 10.0.2.0/24 (2c)
- **í”„ë¼ì´ë¹— ì„œë¸Œë„·**: 10.0.3.0/24 (2a), 10.0.4.0/24 (2c)
- **NAT ê²Œì´íŠ¸ì›¨ì´**: ë¹„ìš© ìµœì í™”ë¥¼ ìœ„í•´ 2aì— ë‹¨ì¼ NAT

### ë³´ì•ˆ
- **ALB ë³´ì•ˆ ê·¸ë£¹**: ì¸í„°ë„·ì—ì„œ 80, 443 í¬íŠ¸
- **ì›¹ ë³´ì•ˆ ê·¸ë£¹**: ALBì—ì„œ 80 í¬íŠ¸, VPCì—ì„œ 22 í¬íŠ¸
- **API ë³´ì•ˆ ê·¸ë£¹**: ALBì—ì„œ 8080 í¬íŠ¸, VPCì—ì„œ 22 í¬íŠ¸
- **IAM ì—­í• **: EC2 ì¸ìŠ¤í„´ìŠ¤ìš© SSM ì ‘ê·¼

### ì„œë¹„ìŠ¤
- **API ì„œë²„**: 8080 í¬íŠ¸ì˜ Node.js Express ì„œë²„ (2a ì „ìš©)
- **ì›¹ ì„œë²„**: 80 í¬íŠ¸ì˜ Apache HTTP ì„œë²„ (2a ì „ìš©)
- **í…ŒìŠ¤íŠ¸ ì„œë²„**: 80 í¬íŠ¸ì˜ Apache HTTP ì„œë²„ (2a + 2c ë©€í‹° AZ)
- **í—¬ìŠ¤ ì²´í¬**: ì„œë¹„ìŠ¤ë³„ ë§ì¶¤í˜• ìë™í™”ëœ í—¬ìŠ¤ ëª¨ë‹ˆí„°ë§

## ğŸ’° Cost Considerations

### í˜„ì¬ ì•„í‚¤í…ì²˜
- **AZ ê°„ íŠ¸ë˜í”½**: ALB ë…¸ë“œê°€ ë°±ì—”ë“œ íƒ€ê²Ÿê³¼ AZ ê°„ í†µì‹ 
- **ë©€í‹° AZ ë°±ì—”ë“œ**: í…ŒìŠ¤íŠ¸ ì„œë²„ë§Œ ë‘ AZì— ë°°í¬, test.com ë„ë©”ì¸ íŠ¸ë˜í”½ ë¶„ì‚°
- **NAT ê²Œì´íŠ¸ì›¨ì´**: ëª¨ë“  í”„ë¼ì´ë¹— ì„œë¸Œë„· ì¸í„°ë„· ì ‘ê·¼ìš© 2aì˜ ë‹¨ì¼ NAT
- **ì¸ìŠ¤í„´ìŠ¤ ì‹œê°„**: 4ê°œ t3.micro ì¸ìŠ¤í„´ìŠ¤ (API + ì›¹ + 2ê°œ í…ŒìŠ¤íŠ¸)

### ë¹„ìš© ìµœì í™” ì˜µì…˜

1. **í…ŒìŠ¤íŠ¸ ì„œë²„ ë‹¨ì¼ AZë¡œ ë³€ê²½** (í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ ê°ì†Œ):
   ```hcl
   # test_server_2c ë¦¬ì†ŒìŠ¤ ë° ê´€ë ¨ íƒ€ê²Ÿ ê·¸ë£¹ ì—°ê²° ì œê±°
   ```

2. **ë‹¨ì¼ AZ ALB** (ê°€ìš©ì„± ê°ì†Œ, AZ ê°„ ALB ë¹„ìš© ì œê±°):
   ```hcl
   subnets = [aws_subnet.public_subnet_2a.id]
   ```

3. **2cì— API/ì›¹ ì„œë²„ ì¶”ê°€** (ê°€ìš©ì„± ë° ì¤‘ë³µì„± í–¥ìƒ):
   ```hcl
   resource "aws_instance" "api_server_2c" { ... }
   resource "aws_instance" "web_server_2c" { ... }
   ```

## ğŸ”„ í™•ì¥ì„± ë° í™•ì¥ ê¸°ëŠ¥

### ì˜¤í†  ìŠ¤ì¼€ì¼ë§ ì¶”ê°€

```hcl
resource "aws_autoscaling_group" "api_asg" {
  vpc_zone_identifier = [
    aws_subnet.private_subnet_2a.id,
    aws_subnet.private_subnet_2c.id  # ë©€í‹° AZ ìŠ¤ì¼€ì¼ë§
  ]
  target_group_arns = [aws_lb_target_group.api_tg.arn]
  # ... ê¸°íƒ€ ì„¤ì •
}
```

### HTTPS ì§€ì› ì¶”ê°€

```hcl
resource "aws_lb_listener" "https" {
  load_balancer_arn = aws_lb.domain_routing_alb.arn
  port              = "443"
  protocol          = "HTTPS"
  ssl_policy        = "ELBSecurityPolicy-TLS-1-2-2017-01"
  certificate_arn   = var.certificate_arn
  # ... ê¸°íƒ€ ì„¤ì •
}
```

## ğŸ” ëª¨ë‹ˆí„°ë§ ë° ë¬¸ì œ í•´ê²°

### ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸

```bash
# SSMì„ í†µí•œ í™•ì¸
aws ssm send-command \
  --instance-ids <instance-id> \
  --document-name "AWS-RunShellScript" \
  --parameters 'commands=["systemctl status api-server"]'

# ALB í—¬ìŠ¤ ì²´í¬ë¥¼ í†µí•œ í™•ì¸
aws elbv2 describe-target-health \
  --target-group-arn <target-group-arn>
```

### ë©€í‹° AZ ë¡œë“œ ë°¸ëŸ°ì‹± ë¶„ì„

```bash
# ê° í…ŒìŠ¤íŠ¸ ì„œë²„ì˜ ì ‘ê·¼ ë¡œê·¸ í™•ì¸
aws ssm start-session --target <test-server-2a-instance-id>
sudo tail -f /var/log/httpd/access_log

aws ssm start-session --target <test-server-2c-instance-id>
sudo tail -f /var/log/httpd/access_log

# API ì„œë²„ ë¡œê·¸ í™•ì¸
aws ssm start-session --target <api-server-instance-id>
sudo journalctl -u api-server -f
```

### ì¼ë°˜ì ì¸ ë¬¸ì œ

1. **503 Service Unavailable**: íƒ€ê²Ÿ ê·¸ë£¹ í—¬ìŠ¤ í™•ì¸
2. **Connection Timeout**: ë³´ì•ˆ ê·¸ë£¹ ê·œì¹™ í™•ì¸
3. **Wrong Service Response**: ALB ë¦¬ìŠ¤ë„ˆ ê·œì¹™ ìš°ì„ ìˆœìœ„ í™•ì¸
4. **Load Balancing Issues**: test.com ë„ë©”ì¸ ìš”ì²­ ì‹œ ë©€í‹° AZ ë¶„ì‚° í™•ì¸

## ğŸ§¹ ì •ë¦¬

ëª¨ë“  ë¦¬ì†ŒìŠ¤ ì‚­ì œ:

```bash
terraform destroy
```

**ì£¼ì˜**: ìƒì„±ëœ ëª¨ë“  ë¦¬ì†ŒìŠ¤ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤.

## ğŸ¤ ê¸°ì—¬

1. ë¦¬í¬ì§€í† ë¦¬ í¬í¬
2. ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„±
3. ë³€ê²½ì‚¬í•­ ì ìš©
4. ì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸
5. í’€ ë¦¬í€˜ìŠ¤íŠ¸ ì œì¶œ

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” êµìœ¡ ë° ì‹œì—° ëª©ì ìš©ì…ë‹ˆë‹¤.

## ğŸ†˜ ì§€ì›

ë¬¸ì œ ë° ì§ˆë¬¸ ì‹œ:
- AWS CloudWatch ë¡œê·¸ í™•ì¸
- Terraform ìƒíƒœ ê²€í† : `terraform show`
- êµ¬ì„± ê²€ì¦: `terraform validate`

## ğŸ¯ ì£¼ìš” í•™ìŠµ í¬ì¸íŠ¸

### ë„ë©”ì¸ ê¸°ë°˜ ë¼ìš°íŒ…
- **API ì„œë¹„ìŠ¤**: api.example.com â†’ Node.js API ì„œë²„ (2a)
- **ì›¹ ì„œë¹„ìŠ¤**: www.example.com, example.com â†’ Apache ì›¹ ì„œë²„ (2a)
- **í…ŒìŠ¤íŠ¸ ì„œë¹„ìŠ¤**: test.com â†’ ë©€í‹° AZ í…ŒìŠ¤íŠ¸ ì„œë²„ (2a + 2c)
- **ê¸°ë³¸ ë¼ìš°íŒ…**: ë§¤ì¹˜ë˜ì§€ ì•ŠëŠ” ëª¨ë“  ë„ë©”ì¸ â†’ ê¸°ë³¸ ì›¹ ì„œë²„ (2a)

### ë©€í‹° AZ ì•„í‚¤í…ì²˜ ì¥ì 
- **ê³ ê°€ìš©ì„±**: ë³µì›ë ¥ì„ ìœ„í•´ ì—¬ëŸ¬ AZì— ALB ë°°í¬
- **ì„ íƒì  ë©€í‹° AZ**: test.comë§Œ ë©€í‹° AZ ë°°í¬ë¡œ ë¹„ìš© ìµœì í™”
- **ì„œë¹„ìŠ¤ ë¶„ë¦¬**: ê° ë„ë©”ì¸ë³„ ë…ë¦½ì ì¸ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ìš´ì˜
- **í—¬ìŠ¤ ì²´í¬**: ì„œë¹„ìŠ¤ë³„ ë§ì¶¤í˜• í—¬ìŠ¤ ì²´í¬ë¡œ ì•ˆì •ì„± í™•ë³´

---

**Terraformê³¼ AWSë¡œ â¤ï¸ ì œì‘**
**ë„ë©”ì¸ ê¸°ë°˜ ë¼ìš°íŒ… ë° ë©€í‹° AZ ALB ë°ëª¨ë¥¼ ìœ„í•´ ì„¤ê³„ë¨**